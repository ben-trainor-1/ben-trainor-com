<div class="row m-0 p-md-5 p-0 bg-light justify-content-center">

    <form class="form row needs-validation m-0 p-2 w-readable bg-white" method="post" name="contact" netlify><input type="hidden" name="form-name" value="contact">
            
        <!-- First/last name -->
        <div class="row m-0 p-sm-2 pt-sm-0 p-0">
            <div class="col-sm-6 col-12 m-0 p-2">
                <label for="f_name" class="form-label w-100 m-0 p-1 ps-0">First name</label><input type="text" id="f_name" name="f_name" class="form-control m-0 p-2 px-2" required="">
                <div class="invalid-feedback">
                    Please enter your first name.
                </div>
            </div>
            <div class="col-sm-6 col-12 m-0 p-2">
                <label for="l_name" class="form-label w-100 m-0 p-1 ps-0">Last name</label><input type="text" id="l_name" name="l_name" class="form-control m-0 p-2 px-2" required="">
                <div class="invalid-feedback">
                    Please enter your last name.
                </div>
            </div>
        </div>
        
        <!-- Email/phone -->
        <div class="row m-0 p-sm-2 p-0">
            <div class="col-sm-6 col-12 m-0 p-2">
                <label for="email" class="form-label w-100 m-0 p-1 ps-0">Email</label><input type="email" id="email" name="email" class="form-control m-0 p-2 px-2" placeholder="email@example.com" required="">
                <div class="invalid-feedback">
                    Please enter a valid email.
                </div>
            </div>
            <div class="col-sm-6 col-12 m-0 p-2">
                <label for="phone" class="form-label w-100 m-0 p-1 ps-0">Phone</label><input type="text" id="phone" name="phone" class="form-control m-0 p-2 px-2" required="">
                <div class="invalid-feedback">
                    Please enter a valid phone number.
                </div>
            </div>
        </div>
        
        <!-- Subject -->
        <div class="row m-0 p-sm-2 p-0">
            <div class="col-sm-6 col-12 m-0 p-2">
                <label for="subject" class="form-label w-100 m-0 p-1 ps-0">Subject</label>
                <select name="subject" id="subject" class="form-select m-0 p-2" required="">
                    <option selected="" disabled="" value="Composition">Please select...</option>
                    <option value="Composition">Composition</option>
                    <option value="Guitar">Guitar</option>
                    <option value="Mixing/mastering">Mixing/mastering</option>
                    <option value="Recording">Recording</option>
                    <option value="Photography">Photography</option>
                    <option value="Composition">Composition</option>
                </select>
            </div>
            <div class="col-sm-6 col-12 m-0 p-2">
                <label for="referral" class="form-label w-100 m-0 p-1 ps-0">How did you find me?</label>
                <select name="referral" id="referral" class="form-select m-0 p-2">
                    <option selected="" disabled="" value="Composition">Please select...</option>
                    <option value="Advertisement">Advertisement</option>
                    <option value="Friend">Friend</option>
                    <option value="Google search">Google search</option>
                    <option value="Social media">Social media</option>
                    <option value="Other">Other</option>
                </select>
            </div>
        </div>
        
        <!-- Message -->
        <div class="row m-0 p-sm-2 p-0">
            <div class="col-12 m-0 p-2">
                <label for="message" class="form-label w-100 m-0 p-1 ps-0">Message</label>
                <textarea name="message" id="message" class="form-textarea form-control" rows="5"></textarea>
            </div>
        </div>

        <!-- Submit -->
        <div class="row m-0 p-sm-2 pb-sm-3 p-3">
            <div class="col-sm-3 col-1 m-0 p-0"></div>
            <button type="submit" class="col-sm-6 col-10 btn btn-blue m-0 p-3 fs-5 fw-bold" id="btn_submit">Submit</button>
            <div class="col-12 m-0 p-3 fw-bold text-center d-none" id="msg_success">Thanks for your submission! I'll be in touch soon.</div>
        </div>
        
    </form>
</div>

<script type="text/javascript">

    const handleSubmit = event => {
    event.preventDefault();

    const myForm = event.target;
    const formData = new FormData(myForm);

    fetch("/", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: new URLSearchParams(formData).toString()
    })
        .then(() => {
            console.log("Form successfully submitted");
            $("#btn_submit").addClass("d-none");
            $("#msg_success").removeClass("d-none");
        }) 
        .catch(error => alert(error));
    };

    document.querySelector("form").addEventListener("submit", handleSubmit);

    
</script>